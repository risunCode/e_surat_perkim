# ==========================================
# E-Surat Perkim - Environment Configuration
# ==========================================
# 
# QUICK START:
# 1. Copy this file to .env
# 2. Generate app key: php artisan key:generate
# 3. Generate signature key: php artisan signature:generate
# 4. Update database settings
# 5. Run migrations: php artisan migrate --seed
#
# DEPLOYMENT GUIDES:
# - Local Development: Use LOCAL DEVELOPMENT section
# - Ngrok Tunneling: Use NGROK DEPLOYMENT section  
# - Production/Cloudflare: Use PRODUCTION DEPLOYMENT section
# ==========================================

# ==========================================
# BASIC APP CONFIGURATION
# ==========================================
APP_NAME="E-Surat Perkim"
APP_LOCALE=id
APP_FALLBACK_LOCALE=id
APP_FAKER_LOCALE=id_ID
APP_MAINTENANCE_DRIVER=file

# ==========================================
# SECURITY KEYS (REQUIRED)
# ==========================================
# Generate with: php artisan key:generate
APP_KEY=

# Generate with: php artisan signature:generate
# CRITICAL: This key is used for digital signatures!
# Keep it secret and backup safely!
SIGNATURE_KEY=

# ==========================================
# LOCAL DEVELOPMENT SETTINGS
# ==========================================
# Use these settings for local development
APP_ENV=local
APP_DEBUG=true
APP_URL=http://localhost:8000

# Session (local - default Laravel settings)
SESSION_DRIVER=database
SESSION_LIFETIME=120
SESSION_ENCRYPT=false
SESSION_PATH=/
SESSION_DOMAIN=null
SESSION_SECURE_COOKIE=false
SESSION_SAME_SITE=lax

# Logging (verbose for debugging)
LOG_CHANNEL=stack
LOG_STACK=single
LOG_DEPRECATIONS_CHANNEL=null
LOG_LEVEL=debug

# ==========================================
# NGROK DEPLOYMENT SETTINGS
# ==========================================
# Uncomment and modify these for ngrok tunneling:
#
# APP_ENV=production
# APP_DEBUG=false
# APP_URL=https://your-subdomain.ngrok-free.dev
# 
# # Asset URL (optional, for better performance)
# ASSET_URL=https://your-subdomain.ngrok-free.dev
# 
# # Session configuration for ngrok
# SESSION_DOMAIN=.ngrok-free.dev
# SESSION_SECURE_COOKIE=true
# SESSION_SAME_SITE=none
# 
# # Reduced logging for production
# LOG_LEVEL=error

# ==========================================
# PRODUCTION DEPLOYMENT (Cloudflare/Nginx)
# ==========================================
# Use these settings for production deployment:
#
# APP_ENV=production
# APP_DEBUG=false
# APP_URL=https://yourdomain.com
# 
# # Session security (HTTPS)
# SESSION_SECURE_COOKIE=true
# SESSION_SAME_SITE=strict
# 
# # Production logging
# LOG_LEVEL=warning
# LOG_CHANNEL=daily
# 
# # Cache optimization
# CACHE_STORE=redis
# REDIS_HOST=127.0.0.1
# REDIS_PASSWORD=null
# REDIS_PORT=6379
# 
# # Queue for background jobs
# QUEUE_CONNECTION=redis

# ==========================================
# DATABASE CONFIGURATION
# ==========================================
DB_CONNECTION=mysql
DB_HOST=127.0.0.1
DB_PORT=3306
DB_DATABASE=e_surat_perkim
DB_USERNAME=root
DB_PASSWORD=

# Production Database (example)
# DB_HOST=your-db-host.com
# DB_USERNAME=your_db_user
# DB_PASSWORD=your_secure_password

# ==========================================
# DEFAULT SERVICES
# ==========================================
# Broadcasting
BROADCAST_CONNECTION=log
BROADCAST_DRIVER=log

# Queue (use database for simple setup)
QUEUE_CONNECTION=database

# Cache (file for local, redis for production)
CACHE_STORE=file
CACHE_PREFIX=

# Filesystem
FILESYSTEM_DISK=local

# ==========================================
# EMAIL CONFIGURATION
# ==========================================
# Local development (log emails)
MAIL_MAILER=log
MAIL_HOST=127.0.0.1
MAIL_PORT=2525
MAIL_USERNAME=null
MAIL_PASSWORD=null
MAIL_ENCRYPTION=null
MAIL_FROM_ADDRESS="noreply@perkim.go.id"
MAIL_FROM_NAME="${APP_NAME}"

# Production email (SMTP example)
# MAIL_MAILER=smtp
# MAIL_HOST=smtp.gmail.com
# MAIL_PORT=587
# MAIL_USERNAME=your-email@gmail.com
# MAIL_PASSWORD=your-app-password
# MAIL_ENCRYPTION=tls

# ==========================================
# THIRD PARTY SERVICES (Optional)
# ==========================================
# AWS S3 (for file storage)
# AWS_ACCESS_KEY_ID=
# AWS_SECRET_ACCESS_KEY=
# AWS_DEFAULT_REGION=us-east-1
# AWS_BUCKET=
# AWS_USE_PATH_STYLE_ENDPOINT=false

# Redis (for caching and queues)
# REDIS_HOST=127.0.0.1
# REDIS_PASSWORD=null
# REDIS_PORT=6379

# Pusher (for real-time features)
# PUSHER_APP_ID=
# PUSHER_APP_KEY=
# PUSHER_APP_SECRET=
# PUSHER_HOST=
# PUSHER_PORT=443
# PUSHER_SCHEME=https
# PUSHER_APP_CLUSTER=mt1

# ==========================================
# SIGNATURE KEY GENERATION GUIDE
# ==========================================
#
# The SIGNATURE_KEY is critical for digital document integrity.
# This key signs all letters and creates QR verification codes.
#
# TO GENERATE SIGNATURE KEY:
# 1. Run: php artisan signature:generate
# 2. Key will be automatically added to .env
# 3. BACKUP this key safely - losing it invalidates all signatures!
#
# IMPORTANT NOTES:
# - Never share this key publicly
# - Use different keys for dev/staging/production
# - If key is compromised, regenerate and re-sign all documents
#
# ==========================================

# ==========================================
# DEPLOYMENT CHECKLIST
# ==========================================
# 
# FOR NGROK DEPLOYMENT:
# □ Set APP_ENV=production
# □ Set APP_DEBUG=false
# □ Update APP_URL to ngrok URL
# □ Configure SESSION_DOMAIN=.ngrok-free.dev
# □ Set SESSION_SECURE_COOKIE=true
# □ Set SESSION_SAME_SITE=none
# □ Run: php artisan config:clear
# 
# FOR PRODUCTION DEPLOYMENT:
# □ Set APP_ENV=production
# □ Set APP_DEBUG=false  
# □ Configure proper APP_URL (HTTPS)
# □ Set secure session settings
# □ Configure production database
# □ Set up proper logging (LOG_LEVEL=warning)
# □ Configure Redis for cache/sessions
# □ Run: php artisan config:cache
# □ Run: php artisan route:cache
# □ Run: php artisan view:cache
# □ Run: php artisan migrate --force
# 
# SECURITY REMINDERS:
# - Keep .env file secret (never commit to git)
# - Use strong database passwords
# - Backup your SIGNATURE_KEY safely
# - Use HTTPS in production
# - Configure firewall properly
# - Enable rate limiting
# - Monitor logs for suspicious activity
# 
# PERFORMANCE TIPS:
# - Use Redis for cache and sessions in production
# - Enable OPcache in PHP (opcache.enable=1)
# - Use CDN for static assets
# - Configure proper server caching headers
# - Enable gzip compression
# - Optimize database queries with indexes
#
# ==========================================
